# Server Configuration
PORT=3000
NODE_ENV=development

# Frontend URL (for CORS)
FRONTEND_URL=http://localhost:5173

# Database (local Docker Compose default)
# IMPORTANT: RLS INSERT policies expect database user 'vacay' (see schema.sql)
# If you change the user, update the policies: WITH CHECK (current_user = 'new_user')
DATABASE_URL=postgresql://vacay:vacay@localhost:5432/vacay
DATABASE_SSL=false
# For remote dev against prod DB, see api/.env.prod.example
# Only set to false for local dev with self-signed certs (insecure!)
# DATABASE_SSL_REJECT_UNAUTHORIZED=false
DATABASE_POOL_SIZE=10
DATABASE_IDLE_TIMEOUT_MS=10000

# JWT Configuration
# Generate secret with: openssl rand -hex 32
JWT_SECRET=REPLACE_ME_generate_with_openssl_rand_hex_32
JWT_EXPIRATION=1h

# WebAuthn Configuration
# RP_ID: Domain without protocol (e.g., localhost, example.com)
RP_ID=localhost
RP_NAME=Vacay Photo Map
# RP_ORIGIN: Full origin for verification (must match browser origin)
RP_ORIGIN=http://localhost:5173

# Seed defaults (override when running bun run scripts/seed.ts)
SEED_ADMIN_EMAIL=admin@example.com
SEED_ADMIN_NAME=Admin User

# Cloudflare R2 Storage (optional - falls back to local filesystem if not set)
# Get credentials from Cloudflare dashboard: R2 > Manage R2 API Tokens
# R2_ACCOUNT_ID=your_account_id
# R2_ACCESS_KEY_ID=your_access_key
# R2_SECRET_ACCESS_KEY=your_secret_key
# R2_BUCKET_NAME=vacay-photos

# Local photo storage (fallback when R2 not configured)
PHOTOS_DIR=/data/photos

# Proxy Configuration
# Set to 'true' only when behind a trusted reverse proxy (Cloudflare, nginx, etc.)
# WARNING: Do not enable in development or when directly exposed to internet
TRUSTED_PROXY=false
